globals:
  codebase_dir: ../mmaction2
  checkpoint_force_download: False
  images:
    video: &video ../mmaction2/demo/demo.mp4

  metric_info: &metric_info
    Top 1 Accuracy: # named after metafile.Results.Metrics
      eval_name: accuracy # test.py --metrics args
      metric_key: accuracy_top-1 # eval Dict key name
      tolerance: 1 # metric ±n%
      task_name: Action Recognition # metafile.Results.Task
      dataset: Kinetics-400 # metafile.Results.Dataset
    Top 5 Accuracy:
      eval_name: accuracy
      metric_key: accuracy_top-5
      tolerance: 1 # metric ±n%
      task_name: Action Recognition
      dataset: Kinetics-400
  convert_image: &convert_image
    input_img: *video
    test_img: *video
  backend_test: &default_backend_test True
  sdk:
    sdk_dynamic: &sdk_dynamic ""

onnxruntime:
  pipeline_ort_static_fp32: &pipeline_ort_static_fp32
    convert_image: *convert_image
    deploy_config: configs/mmaction/video-recognition/video-recognition_2d_onnxruntime_static.py
    backend_test: *default_backend_test

tensorrt:
  pipeline_trt_static_fp32: &pipeline_trt_static_fp32
    convert_image: *convert_image
    deploy_config: configs/mmaction/video-recognition/video-recognition_2d_tensorrt_static-224x224.py
    backend_test: *default_backend_test

models:
  - name: TSN
    metafile: configs/recognition/tsn/metafile.yml
    model_configs:
      - configs/recognition/tsn/tsn_r50_1x1x3_100e_8xb32_kinetics400_rgb.py
    pipelines:
      - *pipeline_ort_static_fp32
      - *pipeline_trt_static_fp32

  # - name: SlowFast
  #   metafile: configs/recognition/slowfast/metafile.yml
  #   model_configs:
  #     - configs/recognition/slowfast/slowfast_r50_4x16x1_256e_8xb8_kinetics400_rgb.py
  #   pipelines:
  #     - *pipeline_ort_static_fp32
  #     - *pipeline_trt_static_fp32
